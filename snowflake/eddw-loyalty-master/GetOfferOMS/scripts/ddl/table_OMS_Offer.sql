--liquibase formatted sql
--changeset SYSTEM:OMS_Offer runOnChange:true splitStatements:false OBJECT_TYPE:TABLE
use database <<EDM_DB_NAME>>;
use schema <<EDM_DB_NAME>>.DW_C_PRODUCT;

create or replace TABLE OMS_OFFER (
	OMS_OFFER_ID NUMBER(38,0) NOT NULL COMMENT 'OMS Offer Id',
	DW_FIRST_EFFECTIVE_DT DATE NOT NULL COMMENT 'DW First Effective Dt',
	DW_LAST_EFFECTIVE_DT DATE NOT NULL COMMENT 'DW Last Effective Dt',
	EXTERNAL_OFFER_ID VARCHAR(16777216) COMMENT 'External Offer Id',
	OFFER_REQUEST_ID NUMBER(38,0) COMMENT 'Offer Request Id',
	AGGREGATOR_OFFER_ID VARCHAR(16777216) COMMENT 'Aggregator Offer Id',
	MANUFACTURER_ID VARCHAR(16777216) COMMENT 'Manufacturer Id',
	MANUFACTURER_OFFER_REFERENCE_CD VARCHAR(16777216) COMMENT 'Manufacturer Offer Reference Cd',
	PROVIDER_NM VARCHAR(16777216) COMMENT 'Provider Nm',
	CATEGORIES_TXT VARCHAR(16777216) COMMENT 'Categories Txt',
	PRIMARY_CATEGORY_TXT VARCHAR(16777216) COMMENT 'Primary Category Txt',
	PROGRAM_CD VARCHAR(16777216) COMMENT 'Program Cd',
	PROGRAM_CODE_DSC VARCHAR(16777216) COMMENT 'Program Code Dsc',
	SUBPROGRAM_NM VARCHAR(16777216) COMMENT 'Subprogram Nm',
	SUBPROGRAM_DSC VARCHAR(16777216) COMMENT 'Subprogram Dsc',
	DELIVERY_CHANNEL_CD VARCHAR(16777216) COMMENT 'Delivery Channel Cd',
	DELIVERY_CHANNEL_DSC VARCHAR(16777216) COMMENT 'Delivery Channel Dsc',
	OFFER_STATUS_CD VARCHAR(16777216) COMMENT 'Offer Status Cd',
	OFFER_STATUS_DSC VARCHAR(16777216) COMMENT 'Offer Status Dsc',
	PRICE_TITLE_TXT VARCHAR(16777216) COMMENT 'Price Title Txt',
	PRICE_VALUE_TXT VARCHAR(16777216) COMMENT 'Price Value Txt',
	SAVINGS_VALUE_TXT VARCHAR(16777216) COMMENT 'Savings Value Txt',
	TITLE_DSC VARCHAR(16777216) COMMENT 'Title Dsc',
	TITLE_DSC1 VARCHAR(16777216) COMMENT 'Title Dsc1',
	TITLE_DSC2 VARCHAR(16777216) COMMENT 'Title Dsc2',
	TITLE_DSC3 VARCHAR(16777216) COMMENT 'Title Dsc3',
	PRODUCT_DSC VARCHAR(16777216) COMMENT 'Product Dsc',
	PRODUCT_DSC1 VARCHAR(16777216) COMMENT 'Product Dsc1',
	PRODUCT_DSC2 VARCHAR(16777216) COMMENT 'Product Dsc2',
	PRODUCT_DSC3 VARCHAR(16777216) COMMENT 'Product Dsc3',
	DISCLAIMER_TXT VARCHAR(16777216) COMMENT 'Disclaimer Txt',
	DESCRIPTION_TXT VARCHAR(16777216) COMMENT 'Description Txt',
	PRINT_TAGS_IND BOOLEAN COMMENT 'Print Tags Ind',
	PRODUCT_IMAGE_ID VARCHAR(16777216) COMMENT 'Product Image Id',
	PRICE_CD VARCHAR(16777216) COMMENT 'Price Cd',
	TIME_TXT VARCHAR(16777216) COMMENT 'Time Txt',
	YEAR_TXT VARCHAR(16777216) COMMENT 'Year Txt',
	PRODUCT_CD VARCHAR(16777216) COMMENT 'Product Cd',
	IS_EMPLOYEE_OFFER_IND BOOLEAN COMMENT 'Is Employee Offer Ind',
	IS_DEFAULT_ALLOCATION_OFFER_IND BOOLEAN COMMENT 'Is Default Allocation Offer Ind',
	PROGRAM_TYPE_CD VARCHAR(16777216) COMMENT 'Program Type Cd',
	SHOULD_REPORT_REDEPTIONS_IND VARCHAR(16777216) COMMENT 'Should Report Redeptions Ind',
	CREATED_TS TIMESTAMP_LTZ(9) COMMENT 'Created Ts',
	CREATED_APPLICATION_ID VARCHAR(16777216) COMMENT 'Created Application Id',
	CREATED_USER_ID VARCHAR(16777216) COMMENT 'Created User Id',
	LAST_UPDATED_APPLICATION_ID VARCHAR(16777216) COMMENT 'Last Updated Application Id',
	LAST_UPDATED_USER_ID VARCHAR(16777216) COMMENT 'Last Updated User Id',
	LAST_UPDATED_TS TIMESTAMP_LTZ(9) COMMENT 'Last Updated Ts',
	DISPLAY_EFFECTIVE_START_DT DATE COMMENT 'Display Effective Start Dt',
	DISPLAY_EFFECTIVE_END_DT DATE COMMENT 'Display Effective End Dt',
	EFFECTIVE_START_DT DATE COMMENT 'Effective Start Dt',
	EFFECTIVE_END_DT DATE COMMENT 'Effective End Dt',
	TEST_EFFECTIVE_START_DT DATE COMMENT 'Test Effective Start Dt',
	TEST_EFFECTIVE_END_DT DATE COMMENT 'Test Effective End Dt',
	QUALIFICATION_UNIT_TYPE_DSC VARCHAR(16777216) COMMENT 'Qualification Unit Type Dsc',
	QUALIFICATION_UNITE_SUBTYPE_DSC VARCHAR(16777216) COMMENT 'Qualification Unite Subtype Dsc',
	BENEIFIT_VALUE_TYPE_DSC VARCHAR(16777216) COMMENT 'Beneifit Value Type Dsc',
	USAGE_LIMIT_TYPE_PER_USER_DSC VARCHAR(16777216) COMMENT 'Usage Limit Type Per User Dsc',
	PLU_TRIGGER_BARCODE_TXT VARCHAR(16777216) COMMENT 'PLU Trigger Barcode Txt',
	COPIENT_CATEGORY_DSC VARCHAR(16777216) COMMENT 'Copient Category Dsc',
	ENGINE_DSC VARCHAR(16777216) COMMENT 'Engine Dsc',
	PRIORITY_CD VARCHAR(16777216) COMMENT 'Priority Cd',
	TIERS_CD VARCHAR(16777216) COMMENT 'Tiers Cd',
	SEND_OUTBOUND_DATA_DSC VARCHAR(16777216) COMMENT 'Send Outbound Data Dsc',
	CHARGEBACK_VENDOR_NM VARCHAR(16777216) COMMENT 'Chargeback Vendor Nm',
	AUTO_TRANSFERABLE_IND BOOLEAN COMMENT 'Auto Transferable Ind',
	ENABLE_ISSUANCE_IND BOOLEAN COMMENT 'Enable Issuance Ind',
	DEFER_EVALUATION_UNTIL_EOS_IND BOOLEAN COMMENT 'Defer Evaluation Until EOS Ind',
	ENABLE_IMPRESSION_REPORTING_IND BOOLEAN COMMENT 'Enable Impression Reporting Ind',
	LIMIT_ELIGIBILITY_FREQUENCY_TXT VARCHAR(16777216) COMMENT 'Limit Eligibility Frequency Txt',
	IS_APPLIABLE_TO_J4U_IND BOOLEAN COMMENT 'Is Appliable To J4U Ind',
	CUSTOMER_SEGMENT_DSC VARCHAR(16777216) COMMENT 'Customer Segment Dsc',
	ASSIGNMENT_USER_ID VARCHAR(16777216) COMMENT 'Assignment User Id',
	ASSIGNMENT_FIRST_NM VARCHAR(16777216) COMMENT 'Assignment First Nm',
	ASSIGNMENT_LAST_NM VARCHAR(16777216) COMMENT 'Assignment Last Nm',
	QUALIFICATION_PRODUCT_DISQUALIFIER_TXT VARCHAR(16777216) COMMENT 'Qualification Product Disqualifier Txt',
	QUALIFICATION_DAY_MONDAY_IND BOOLEAN COMMENT 'Qualification Day Monday Ind',
	QUALIFICATION_DAY_TUESDAY_IND BOOLEAN COMMENT 'Qualification Day Tuesday Ind',
	QUALIFICATION_DAY_WEDNESDAY_IND BOOLEAN COMMENT 'Qualification Day Wednesday Ind',
	QUALIFICATION_DAY_THURSDAY_IND BOOLEAN COMMENT 'Qualification Day Thursday Ind',
	QUALIFICATION_DAY_FRIDAY_IND BOOLEAN COMMENT 'Qualification Day Friday Ind',
	QUALIFICATION_DAY_SATURDAY_IND BOOLEAN COMMENT 'Qualification Day Saturday Ind',
	QUALIFICATION_DAY_SUNDAY_IND BOOLEAN COMMENT 'Qualification Day Sunday Ind',
	QUALIFICATION_START_TIME_TXT VARCHAR(16777216) COMMENT 'Qualification Start Time Txt',
	QUALIFICATION_END_TIME_TXT VARCHAR(16777216) COMMENT 'Qualification End Time Txt',
	QUALIFICATION_ENTERPRISE_INSTANT_WIN_NUMBER_OF_PRIZES_QTY NUMBER(38,0) COMMENT 'Qualification Enterprise Instant Win Number Of Prizes Qty',
	QUALIFICATION_ENTERPRISE_INSTANT_WIN_FREQUENCY_TXT VARCHAR(16777216) COMMENT 'Qualification Enterprise Instant Win Frequency Txt',
	OFFER_NM VARCHAR(16777216) COMMENT 'Offer Nm',
	AD_TYPE_CD VARCHAR(16777216) COMMENT 'Ad Type Cd',
	OFFER_PROTOTYPE_CD VARCHAR(16777216) COMMENT 'Offer Prototype Cd',
	OFFER_PROTOTYPE_DSC VARCHAR(16777216) COMMENT 'Offer Prototype Dsc',
	STORE_GROUP_VERSION_ID VARCHAR(16777216) COMMENT 'Store Group Version Id',
	STORE_TAG_PRINT_J4U_TAG_ENABLED_IND BOOLEAN COMMENT 'Store Tag Print J4U Tag Enabled Ind',
	STORE_TAG_MULTIPLE_NBR NUMBER(38,0) COMMENT 'Store Tag Multiple Nbr',
	STORE_TAG_AMT NUMBER(38,3) COMMENT 'Store Tag Amt',
	STORE_TAG_COMMENTS_TXT VARCHAR(16777216) COMMENT 'Store Tag Comments Txt',
	REQUESTED_REMOVAL_FOR_ALL_IND BOOLEAN COMMENT 'Requested Removal For All Ind',
	REMOVED_ON_TS TIMESTAMP_LTZ(9) COMMENT 'Removed On Ts',
	REMOVED_UNCLIPPED_ON_TS TIMESTAMP_LTZ(9) COMMENT 'Removed Unclipped On Ts',
	REMOVAL_FOR_ALL_ON_TS TIMESTAMP_LTZ(9) COMMENT 'Removal For All On Ts',
	BRAND_SIZE_DSC VARCHAR(16777216) COMMENT 'Brand Size Dsc',
	CREATED_USER_USER_ID VARCHAR(16777216) COMMENT 'Created User User Id',
	CREATED_USER_FIRST_NM VARCHAR(16777216) COMMENT 'Created User First Nm',
	CREATED_USER_LAST_NM VARCHAR(16777216) COMMENT 'Created User Last Nm',
	UPDATED_USER_USER_ID VARCHAR(16777216) COMMENT 'Updated User User Id',
	UPDATED_USER_FIRST_NM VARCHAR(16777216) COMMENT 'Updated User First Nm',
	UPDATED_USER_LAST_NM VARCHAR(16777216) COMMENT 'Updated User Last Nm',
	FIRST_UPDATE_TO_REDEMPTION_ENGINE_TS TIMESTAMP_LTZ(9) COMMENT 'First Update To Redemption Engine Ts',
	LAST_UPDATE_TO_REDEMPTION_ENGINE_TS TIMESTAMP_LTZ(9) COMMENT 'Last Update To Redemption Engine Ts',
	FIRST_UPDATE_TO_J4U_TS TIMESTAMP_LTZ(9) COMMENT 'First Update To J4U Ts',
	LAST_UPDATE_TO_J4U_TS TIMESTAMP_LTZ(9) COMMENT 'Last Update To J4U Ts',
	OFFER_REQUESTOR_GROUP_CD VARCHAR(16777216) COMMENT 'Offer Requestor Group Cd',
	HEADLINE_TXT VARCHAR(16777216) COMMENT 'Headline Txt',
	IS_POD_APPROVED_IND BOOLEAN COMMENT 'Is POD Approved Ind',
	POD_USAGE_LIMIT_TYPE_PER_USER_DSC VARCHAR(16777216) COMMENT 'POD Usage Limit Type Per User Dsc',
	POD_REFERENCE_OFFER_ID VARCHAR(16777216) COMMENT 'POD Reference Offer Id',
	IVIE_IMAGE_ID VARCHAR(16777216) COMMENT 'IVIE Image Id',
	VEHICLE_NAME_TXT VARCHAR(16777216) COMMENT 'Vehicle Name Txt',
	AD_PAGE_NUMBER_TXT VARCHAR(16777216) COMMENT 'Ad Page Number Txt',
	AD_MOD_NBR NUMBER(38,0) COMMENT 'Ad Mod Nbr',
	ECOM_DSC VARCHAR(16777216) COMMENT 'ECom Dsc',
	REQUESTED_USER_USER_ID VARCHAR(16777216) COMMENT 'Requested User User Id',
	REQUESTED_USER_FIRST_NM VARCHAR(16777216) COMMENT 'Requested User First Nm',
	REQUESTED_USER_LAST_NM VARCHAR(16777216) COMMENT 'Requested User Last Nm',
	IS_PRIMARY_POD_OFFER_IND BOOLEAN COMMENT 'Is Primary POD Offer Ind',
	IN_EMAIL_IND VARCHAR(5) COMMENT 'In Email Ind',
	SUBMITTED_DT DATE COMMENT 'Submitted Dt',
	REDEMPTION_SYSTEM_ID NUMBER(38,0) COMMENT 'Redemption System Id',
	ADBUG_TXT VARCHAR(16777216) COMMENT 'Adbug Txt',
	DW_CREATE_TS TIMESTAMP_LTZ(9) COMMENT 'DW CREATE TS',
	DW_LAST_UPDATE_TS TIMESTAMP_LTZ(9) COMMENT 'DW LAST UPDATE TS',
	DW_SOURCE_CREATE_NM VARCHAR(255) COMMENT 'DW SOURCE CREATE NM',
	DW_LOGICAL_DELETE_IND BOOLEAN COMMENT 'DW LOGICAL DELETE IND',
	DW_CURRENT_VERSION_IND BOOLEAN COMMENT 'DW CURRENT VERSION IND',
	DW_SOURCE_UPDATE_NM VARCHAR(255) COMMENT 'DW SOURCE UPDATE NM',
	ALLOCATION_CD VARCHAR(16777216),
	ALLOCATION_NM VARCHAR(16777216),
	PRINTED_MESSAGE_NOTIFICATION_IND BOOLEAN COMMENT 'Notification indicatior for printed message in OMS offer',
	CASHIER_MESSAGE_NOTIFICATION_IND BOOLEAN COMMENT 'Notification indicatior for cashier message in OMS offer',
	IS_DISPLAY_IMMEDIATE_IND BOOLEAN COMMENT 'used for cashier message, if true, then Display Immediately; if false Display at EOS',
	QUALIFICATION_PRODUCT_DISQUALIFIER_NM VARCHAR(16777216) COMMENT 'Disqualified product group name (there was already a property  qualificationProductDisQualifier which is id of the disqualified product group)',
	CUSTOM_OFFER_LIMIT_NBR NUMBER(38,0) COMMENT 'Usage Limit for the Offer',
	CUSTOM_TYPE_DSC VARCHAR(16777216) COMMENT 'Custom Usage type of the offer',
	CUSTOM_PERIOD_NBR NUMBER(38,0) COMMENT 'Usage custom period of the offer',
	ECOMM_PROMO_TYPE_CD VARCHAR(16777216) COMMENT 'this field calls out the type of ecommerce promotion that is being done through the offer.',
	PROMOTION_ORDER_NBR NUMBER(38,0) COMMENT 'order number is associated to that promotion that the customer is placing.',
	HEADLINE2_TXT VARCHAR(16777216) COMMENT 'Coupon Headline Text from second line',
	USAGE_LIMIT_PER_OFFER_CNT NUMBER(38,0) COMMENT 'Stores the overall usage limit of the coupon',
	REFUNDABLE_REWARDS_IND BOOLEAN COMMENT 'defines if the rewards are Refundable or Non Refundable for particular type of requirement',
	MULTI_CLIP_LIMIT_CNT NUMBER(38,0) COMMENT 'Indicates the number of times offer can be clippable per user when the usage type is multi-clip',
	POINTS VARCHAR(16777216) COMMENT 'The point/$ value associated with the offer',
	PROGRAMSUBTYPE VARCHAR(16777216) COMMENT 'This is either \"point\" or \"usd\".  This determines how user will buy these offers',
	ECOMM_PROMO_TYPE_NM VARCHAR(16777216) COMMENT 'Name of a Ecomm promotion program type',
	AUTO_APPLY_PROMO_IND BOOLEAN COMMENT 'Promo code can be auto applied without the customer entering it on the site.',
	VALID_WITH_OTHER_OFFERS_IND BOOLEAN COMMENT 'Promo code can be used (is combinable) with other promo codes',
	OFFER_ELIGIBLE_ORDER_CNT VARCHAR(16777216) COMMENT 'Count of number of Orderson which promotion is valid/Number of orders or the order number on which the promo ',
	VALID_FOR_FIRST_TIME_CUSTOMER_IND BOOLEAN COMMENT 'Promo code can only apply on a customer''s first order.',
	MERKLE_GAME_LAND_NM VARCHAR(16777216),
	MERKLE_GAME_LAND_SPACE_NM VARCHAR(16777216),
	MERKLE_GAME_LAND_SPACE_SLOT_NM VARCHAR(16777216),
	PROMOTION_SUBPROGRAM_TYPE_CD VARCHAR(16777216),
	OFFER_QUALIFICATION_BEHAVIOR_CD VARCHAR(16777216),
	INITIAL_SUBSCRIPTION_OFFER_IND BOOLEAN,
	DYNAMIC_OFFER_IND BOOLEAN,
	DAYS_TO_REDEEM_OFFER_CNT NUMBER(38,0),
	OFFER_CLIPPABLE_IND BOOLEAN,
	OFFER_APPLICABLE_ONLINE_IND BOOLEAN,
	OFFER_DISPLAYABLE_IND BOOLEAN,
	primary key (OMS_OFFER_ID, DW_FIRST_EFFECTIVE_DT, DW_LAST_EFFECTIVE_DT)
);
